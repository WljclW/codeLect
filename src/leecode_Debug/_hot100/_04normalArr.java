package leecode_Debug._hot100;

import java.util.Arrays;
import java.util.Comparator;
import java.util.LinkedList;

public class _04normalArr {

    public static void main(String[] args) {
        System.out.println(Runtime.getRuntime().availableProcessors());
//        new normalArr().maxSubArray(new int[]{-2,1,-3,4,-1,2,1,-5,4});
        new _04normalArr().merge(new int[][]{{1,4},{2,3}});
    }



    /*53.
    * ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œè¯·ä½ æ‰¾å‡ºä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒ
    *   ç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚( å­æ•°ç»„æ˜¯æ•°ç»„ä¸­çš„ä¸€ä¸ªè¿ç»­éƒ¨åˆ†)
    * */
    /**ã€è§£é¢˜æ€æƒ³ã€‘åˆ°è¾¾ä»»ä½•ä¸€ä¸ªæ•°æœ‰ä¸¤ç§é€‰æ‹©ï¼šè¦éº½å’Œå‰é¢çš„æ•°ç»„æˆå­æ•°ç»„ï¼›è¦éº½è‡ªå·±å•ç‹¬æˆä¸€ä¸ªæ•°ç»„ã€‚
     *      ä¸¤ç§é€‰æ‹©åˆ°åº•é‡‡ç”¨å“ªä¸€ä¸ªå‘¢ï¼Ÿå–æœ€å¤§çš„é‚£ä¸ªã€‚
     *      é‚£åˆ°åº•æœ€å¤§å­æ•°ç»„å’Œæ˜¯å¤šå°‘å‘¢ï¼Ÿä½¿ç”¨ä¸€ä¸ªå¤–é¢çš„å˜é‡æ¥æ ‡è®°,æ¯è®¡ç®—å‡ºä¸€ä¸ªä½ç½®çš„å€¼æ—¶æ›´æ–°ã€‚*/
    public int maxSubArray(int[] nums) {
        int maxSum = Integer.MIN_VALUE; //è®°å½•æœ€å¤§å­æ•°ç»„å’Œ
        int curSum = 0; //è®°å½•ä»¥å½“å‰ä½ç½®ç»“å°¾çš„æœ€å¤§å­æ•°ç»„çš„å’Œ
        for(int i=0;i<nums.length;i++){
            curSum = Math.max(nums[i],curSum+nums[i]); /*nums[i]ç‹¬è‡ªæˆä¸€é˜Ÿï¼›cur+nums[i]å’Œå‰é¢çš„éƒ¨åˆ†å­æ•°ç»„ç»„æˆæ–°çš„å­æ•°ç»„*/
            maxSum = Math.max(curSum,maxSum); /*æ›´æ–°æ‰¾åˆ°çš„æœ€å¤§å­æ•°ç»„å’Œâ€”â€”â€”â€”å³è¿”å›å€¼*/
        }
        return maxSum;
    }

    /*56.
    *ä»¥æ•°ç»„ intervals è¡¨ç¤ºè‹¥å¹²ä¸ªåŒºé—´çš„é›†åˆï¼Œå…¶ä¸­å•ä¸ªåŒºé—´ä¸º intervals[i] = [starti, endi] ã€‚è¯·ä½ åˆå¹¶æ‰€æœ‰é‡
    * å çš„åŒºé—´ï¼Œå¹¶è¿”å› ä¸€ä¸ªä¸é‡å çš„åŒºé—´æ•°ç»„ï¼Œè¯¥æ•°ç»„éœ€æ°å¥½è¦†ç›–è¾“å…¥ä¸­çš„æ‰€æœ‰åŒºé—´ ã€‚
    * */
    /**ã€é¢˜çš„å…³é”®ã€‘ï¼šå°†intervalsä¸­çš„åŒºé—´å…ˆåŠ è¿›ç»“æœé›†(æ­¤æ—¶é»˜è®¤åŠ åœ¨æœ€åä¸€ä½)ï¼Œç„¶åå¾€ååˆ¤æ–­æ¥æ›´æ–°ç»“æœé›†
     *      ä¸­æœ€åä¸€ä¸ªæ•°ç»„çš„ç»“å°¾ç•Œçº¿ã€‚ã€æ³¨æ„ã€‘å¦‚æœä¸æ˜¯å…ˆå°†ç¬¬ä¸€ä¸ªå…ƒç´ åŠ è¿›ç»“æœé›†ï¼Œç›´æ¥ç ”ç©¶ä¼šæ˜¾å¾—å¾ˆå¤æ‚ï¼Œ
     *      é€»è¾‘ä¸Šå®¹æ˜“ä¹±
     * åˆ¤æ–­çš„æ ‡å‡†ï¼š
     *      å¦‚æœä¸‹ä¸€ä¸ªåŒºé—´çš„å¼€å§‹å€¼ å°äº ç»“æœé›†æœ€åä¸€ä¸ªå…ƒç´ çš„ç»“å°¾ç•Œé™ï¼Œæ¯”å¦‚ï¼š[1,4],[2,5]ã€‚åˆ™å°†ç»“æœé›†
     *  ä¸­æœ€åä¸€ä¸ªæ•°ç»„çš„ç»“å°¾æ›´æ–°ä¸º4å’Œ5çš„æœ€å¤§å€¼ï¼›
     *      å¦åˆ™çš„è¯è¯´æ˜ä¸‹ä¸€ä¸ªåŒºé—´çš„å¼€å§‹å€¼ å¤§äº ç»“æœé›†æœ€åä¸€ä¸ªå…ƒç´ çš„ç»“å°¾ç•Œé™ã€‚è¯´æ˜è¿™ä¸¤ä¸ªåŒºé—´æ²¡æœ‰å…¬å…±
     *  éƒ¨åˆ†ï¼Œå› æ­¤éœ€è¦å°†å½“å‰åŒºé—´æ”¾è¿›å»æˆç«‹ä¸€ä¸ªæ–°çš„åŒºé—´ã€‚æ¯”å¦‚ï¼š[1,3],[5,7]*/
    public int[][] merge(int[][] intervals) {
        LinkedList<int[]> res = new LinkedList<>();
        //step1ï¼šå°†æ•°ç»„æŒ‰ç…§ç¬¬ä¸€ä¸ªç»´åº¦å‡åºæ’åˆ—
        Arrays.sort(intervals, new Comparator<int[]>() {
            @Override
            public int compare(int[] o1, int[] o2) {
                return o1[0] - o2[0]; /*å‚æ•°1-å‚æ•°2 è¡¨ç¤ºå‡åº(è‹¥æ˜¯ä¼˜å…ˆçº§é˜Ÿåˆ—åˆ™æ˜¯å°æ ¹å †)*/
            }
        });
        res.add(intervals[0]); /*step1çš„å…³é”®æ­¥éª¤ï¼šå…ˆå°†åŒºé—´åŠ åˆ°ç»“æœé›†é‡Œé¢ï¼Œç„¶åå†åˆ©ç”¨åç»­å…ƒç´ æ›´æ–°è¿™ä¸ªå…ƒç´ çš„ç»“å°¾ç•Œé™*/
        /*step2ï¼šéå†å‰©ä¸‹çš„æ•°ç»„ã€‚æ›´æ–°resä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„å³è¾¹ç•Œï¼Ÿè¿˜æ˜¯å¾€resä¸­æ–°æ·»åŠ ä¸€ä¸ªåŒºé—´ï¼Ÿ*/
        for (int i=1;i<intervals.length;i++) {
            int[] cur = intervals[i];
            if (res.getLast()[1] >= cur[0]) { //æƒ…å†µ1:æ›´æ–°resä¸­æœ€åä¸€ä¸ªåŒºé—´çš„å³è¾¹ç•Œï¼ˆè¯´æ˜curçš„èµ·ç‚¹åœ¨æœ€åä¸€ä¸ªæ•°ç»„åŒºé—´å†…ï¼‰
                res.getLast()[1] = Math.max(res.getLast()[1], cur[1]);
            } else {    //æƒ…å†µ2ï¼šéœ€è¦åœ¨resä¸­æ·»åŠ æ–°åŒºé—´ï¼ˆå› ä¸ºcurçš„èµ·ç‚¹åœ¨resæœ€åä¸€ä¸ªæ•°ç»„åŒºé—´ä¹‹å¤–äº†ï¼‰
                res.add(cur);
            }
        }
        return res.toArray(new int[res.size()][]); /**errï¼ï¼ï¼ï¼šListè½¬æ¢ä¸ºæ•°ç»„çš„æ–¹æ³•ã€‚ã€‚é”™äº†å¤šæ¬¡*/
    }


    /*189.
    * ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œå°†æ•°ç»„ä¸­çš„å…ƒç´ å‘å³è½®è½¬ k ä¸ªä½ç½®ï¼Œå…¶ä¸­ k æ˜¯éè´Ÿæ•°ã€‚
    * */
    /**ã€è§£é¢˜å…³é”®ã€‘ç­‰ä»·äºä¸‰æ¬¡ç¿»è½¬ï¼šå…ˆæ•´ä½“ç¿»è½¬ï¼›å†åˆ†åˆ«ç¿»è½¬å·¦å³ä¸¤éƒ¨åˆ†*/
    public void rotate(int[] nums, int k) {
        k %= nums.length; /**ğŸ”ºerrï¼šè¿™é‡Œè¦å¯¹kå–ä½™ï¼Œå¦åˆ™ä¼šæŠ¥â€œIndexOutOfBoundExceptionâ€*/
        swapL_R(nums,0,nums.length-1);
        swapL_R(nums,0,k-1);
        swapL_R(nums,k,nums.length-1);
    }

    public void swapL_R(int[] nums, int l, int r) {
        while (l < r) {
            int tmp = nums[l];
            nums[l] = nums[r];
            nums[r] = tmp;
            l++; /**errï¼šæ¯ä¸€æ­¥ä¹‹åï¼ŒleftæŒ‡é’ˆ++ï¼Œä½†æ˜¯rightæŒ‡é’ˆ--ã€‚è®°å¾—æ›´æ–°æŒ‡é’ˆï¼ï¼*/
            r--;  /**errï¼šå¿˜è®°æ›´æ–°æŒ‡é’ˆï¼Œå‡ºç°äº†â€œè¶…å‡ºæ—¶é—´é™åˆ¶â€*/
        }
    }


    /*238.
    * ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œè¿”å› æ•°ç»„ answer ï¼Œå…¶ä¸­ answer[i] ç­‰äº nums ä¸­é™¤ nums[i] ä¹‹å¤–å…¶ä½™å„å…ƒç´ 
    * çš„ä¹˜ç§¯ ã€‚
    é¢˜ç›®æ•°æ® ä¿è¯ æ•°ç»„ numsä¹‹ä¸­ä»»æ„å…ƒç´ çš„å…¨éƒ¨å‰ç¼€å…ƒç´ å’Œåç¼€çš„ä¹˜ç§¯éƒ½åœ¨  32 ä½ æ•´æ•°èŒƒå›´å†…ã€‚
    è¯· ä¸è¦ä½¿ç”¨é™¤æ³•ï¼Œä¸”åœ¨ O(n) æ—¶é—´å¤æ‚åº¦å†…å®Œæˆæ­¤é¢˜ã€‚
    * */
    /**æ³¨æ„è¿™é“é¢˜â€”â€”â€”â€”
     *    1."ä¸åŒ…æ‹¬è‡ªå·±"çš„å…¶ä½™æ•°ä¹˜ç§¯ï¼Œå› æ­¤æ˜¯"å½“å‰ä½ç½®"å‰é¢çš„æ•°çš„ä¹˜ç§¯ ä¹˜ä»¥ åé¢çš„æ•°çš„ä¹˜ç§¯ã€‚
     *    2.å› æ­¤è®¡ç®—nums[1]çš„å‰ç¼€ç§¯å…¶å®å°±æ˜¯nums[1-1]*1ï¼›nums[2]çš„å‰ç¼€ç§¯å°±æ˜¯nums[2-1]*preMutil[2-1]
     *    æ•´ä¸ªè¿‡ç¨‹è¦æƒ³ä¸²èµ·æ¥ï¼Œå°±éœ€è¦ç»™preMutil[0]èµ‹å€¼ä¸º1ï¼Œè¿™æ ·åé¢çš„å°±å¯ä»¥ä½¿ç”¨"preMutil[i-1]*nums[i-1"
     *    æ¥è®¡ç®—äº†ã€‚ã€‚ã€‚ã€‚åç¼€ç§¯ä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†
     *    3.ä¸ç”¨çœ‹æ³¨é‡Šçš„æ–¹æ³•äº†ï¼*/
//    public int[] productExceptSelf(int[] nums) { /**ä½¿ç”¨äº†ä¸‰å€çš„æ•°ç»„æ¥å­˜å‚¨*/
//        if(nums.length==1) return nums;
//        int[] preMutil = new int[nums.length];
//        int[] postMutil = new int[nums.length];
//        int[] res = new int[nums.length];
//        preMutil[0] = 1;
//        for (int i=1;i<nums.length;i++){
//            preMutil[i] = preMutil[i-1]*nums[i-1];
//        }
//        postMutil[nums.length-1] = 1;
//        res[nums.length-1] = postMutil[nums.length-1]*preMutil[nums.length-1];
//        for (int i=nums.length-2;i>=0;i--){
//            postMutil[i] = postMutil[i+1]*nums[i+1];
//            res[i] = preMutil[i]*postMutil[i];
//        }
//        return res;
//    }

    /**å…¶å®å¯ä»¥åœ¨è¿”å›çš„æ•°ç»„åŸºç¡€ä¸Šè¿›è¡Œè®°å½•ï¼Œä»è€Œé¿å…å…¶ä½™ç©ºé—´çš„æµªè´¹ã€‚
     * ã€æ€è·¯ã€‘ï¼š
     *     ç¬¬ä¸€æ¬¡æ­£ç€éå†åŸå§‹æ•°ç»„nums,resæ•°ç»„ä½ç½®iå­˜æ”¾å®ƒçš„å‰ç¼€ç§¯ï¼Œéå†åˆ°æœ«å°¾ä½ç½®ã€‚ã€‚ã€‚ã€‚ç„¶åæ¥ç€ååºéå†ç»“æœæ•°ç»„ï¼Œ
     *  åˆ©ç”¨å±€éƒ¨å˜é‡æ¥è®°å½•å½“å‰ç´¢å¼•jçš„åç¼€ä¹˜ç§¯ï¼Œè¿™æ ·çš„è¯å€’ç€éå†çš„æ—¶å€™æ¯åˆ°ä¸€ä¸ªä½ç½®ï¼Œâ€œå±€éƒ¨å˜é‡â€âœ–â€œç»“æœé›†çš„å½“
     *  å‰ä½ç½®å€¼â€å°±æ˜¯è¯¥ä½ç½®çš„ç»“æœ*/
    public int[] productExceptSelf(int[] nums){
        if(nums.length==1) return nums;
        int[] res = new int[nums.length];
        res[0] = 1;
        for (int i=1;i<nums.length;i++){
            res[i] = res[i-1]*nums[i-1];
        }

        int post = 1; //ç”¨äºè®°å½•å½“å‰ä½ç½®ä»¥åçš„æ•°çš„è¿ä¹˜ç§¯æ˜¯å¤šå°‘
        for (int i=nums.length-2;i>=0;i--){ /**errï¼šç­‰äº0çš„æ—¶å€™ä¹Ÿéœ€è¦è®¡ç®—ã€‚å¦åˆ™ç»“æœæ•°ç»„çš„ç¬¬ä¸€ä¸ªæ•°æ˜¯1*/
            post *= nums[i+1];
            res[i] *= post;
        }
        return res;
    }





    /*41.
    * ç»™ä½ ä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ nums ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­æ²¡æœ‰å‡ºç°çš„æœ€å°çš„æ­£æ•´æ•°ã€‚
        è¯·ä½ å®ç°æ—¶é—´å¤æ‚åº¦ä¸º O(n) å¹¶ä¸”åªä½¿ç”¨å¸¸æ•°çº§åˆ«é¢å¤–ç©ºé—´çš„è§£å†³æ–¹æ¡ˆã€‚
    * */
    /**
     * ã€è§£é¢˜å»ºè®®ã€‘å»ºè®®ä½¿ç”¨è§£æ³•1
     */
    /*è§£æ³•1ï¼šç®€æ´*/
    public int firstMissingPositive(int[] nums) {
        for (int i = 0; i < nums.length; i++) {
            /**whileä¼šä¸æ–­çš„å°†iä½ç½®çš„å…ƒç´ æ”¾åˆ°æ­£ç¡®çš„ä½ç½®....
             * ã€æ³¨æ„ã€‘
             *      1.è™½ç„¶äº¤æ¢ä½†æ˜¯iä½ç½®ä¸èƒ½å˜ï¼Œå› ä¸ºæ¢è¿‡æ¥çš„æ•°è¿˜éœ€è¦ç»§ç»­åˆ¤æ–­ï¼Œè¿™å°±æ˜¯
             * ä¸ºä»€ä¹ˆè¿™é‡Œæ˜¯whileå¾ªç¯ã€‚ã€‚(è·Ÿ"é¢œè‰²äº¤æ¢(è·å…°å›½æ——ç±»ä¼¼)"ï¼Œäº¤æ¢åä¸èƒ½ç§»åŠ¨curæŒ‡é’ˆ)ï¼Œ
             * å› ä¸ºäº¤æ¢æ¥çš„å…ƒç´ éœ€è¦ç ”ç©¶ä¸€ä¸‹
             *      2.ä¸"å°äº ç­‰äº å¤§äº"å°†æ•°ç»„çš„æ•°åˆ†å¼€æœ‰å¼‚æ›²åŒå·¥ï¼Œå¦‚æœå½“å‰éå†çš„ä½ç½®
             * çš„æ•°å‘ç°å¤§äºflagéœ€è¦æ¢åˆ°å¤§äºåŒºåŸŸï¼Œå› æ­¤éœ€è¦ç»§ç»­åˆ¤æ–­è¿™ä¸ª"ä»å¤§äºåŒºåŸŸæ¢æ¥
             * çš„æ•°"åº”è¯¥æ”¾åˆ°å“ªé‡Œâ€”â€”â€”â€”ä¹Ÿå°±æ„å‘³ç€swapä¹‹åä¸èƒ½å˜æ¢å½“å‰ç ”ç©¶çš„ç´¢å¼•curã€‚
             *      3.ä¸€æ—¦å‡ºwhileå¾ªç¯å°±è¡¨ç¤ºï¼šä½ç½®iä½ç½®çš„å…ƒç´ æ”¾åˆ°äº†æ­£ç¡®çš„ä½ç½®ï¼Œå¹¶ä¸”æ‰€
             * æœ‰æ¢è¿‡æ¥çš„å…ƒç´ ä¹Ÿéƒ½æ”¾åˆ°äº†æ­£ç¡®çš„ä½ç½®*/
            /**errï¼šä¸‰ä¸ªæ¡ä»¶ç¼ºä¸€ä¸å¯*/
            while (nums[i] > 0 && nums[i] <= nums.length && nums[nums[i] - 1] != nums[i]) { /**errï¼šnums[i]æ˜¯ä¸¤ä¸ªæ¡ä»¶ï¼Œå¦åˆ™ä¼šå‡ºç°".....Index 6 out of bounds for length 5"*/
                swap(nums, i, nums[i] - 1); /**errï¼šè¿™é‡Œç”¨é¢å¤–çš„æ–¹æ³•æ¥å®ç°ï¼*/
            }
        }
        //ç»è¿‡ä¸Šé¢çš„æ­¥éª¤ç†è®ºä¸Šiä½ç½®å­˜æ”¾çš„å°±æ˜¯æ•°å­—i+1.æ¯”å¦‚0ä½ç½®å­˜æ”¾1ï¼Œ1ä½ç½®å­˜æ”¾2....
        for (int i = 0; i < nums.length; i++) {
            if (nums[i] != i + 1) return i + 1;
        }

        return nums.length + 1; /**errï¼šåˆ°äº†è¿™é‡Œè¯´æ˜æ•°ç»„ä¸­ä¸ç¼ºï¼Œå› æ­¤åº”è¯¥è¿”å›ä¸‹ä¸€ä¸ªæ•°*/
    }

    public void swap(int[] nums,int i,int j){
        int temp = nums[i];
        nums[i] = nums[j];
        nums[j] = temp;
    }

    /*è§£æ³•2ï¼š*/
    public int firstMissingPositive01(int[] nums) {
        int cur = 0;
        /*step1ï¼šå°†æ¯ä¸€ä¸ªæ•°æ”¾åœ¨æ­£ç¡®çš„ä½ç½®*/
        while(cur<nums.length){
            if (nums[cur]>0&&nums[cur]<=nums.length&&nums[nums[cur]-1]!=nums[cur]){ //è¿›å…¥ifè¯´æ˜æ•°æ²¡æœ‰æ”¾åœ¨æ­£ç¡®çš„ä½ç½®
                swap01(nums,nums[cur]-1,cur);
                continue; //äº¤æ¢æ¥çš„æ•°å¯èƒ½ä¹Ÿä¸åœ¨æ­£ç¡®çš„ä½ç½®ï¼Œå› æ­¤curæŒ‡é’ˆä¸èƒ½åŠ¨ï¼Œä¸‹ä¸€è½®å¾ªç¯è¿˜éœ€è¦ç»§ç»­ç ”ç©¶äº¤æ¢æ¥çš„æ•°
            }
            cur++; //èµ°åˆ°è¿™ä¸€æ­¥å¿…ç„¶æ²¡æœ‰è¿›å…¥ifï¼Œæ²¡æœ‰è¿›å…¥ifè¯´æ˜nums[cur]æ”¾åœ¨æ­£ç¡®çš„ä½ç½®ï¼Œä¸‹ä¸€è½®å¾ªç¯ç»§ç»­ç ”ç©¶ä¸‹ä¸€ä¸ªä½ç½®å³cur++;
        }
        /*step2ï¼šä»index=0å¼€å§‹ï¼Œæ‰¾ç¬¬ä¸€ä¸ªç¼ºå¤±çš„æ•°*/
        for (int i=0;i<nums.length;i++){
            if (nums[i]!=i+1){ /**errï¼šifæ¡ä»¶è¯­å¥å†™é”™ã€‚ç´¢å¼•0å¤„çš„åº”è¯¥æ˜¯1ï¼Œå› æ­¤nums[i]å’Œi+1æ¯”è¾ƒ*/
                return i+1; /**errï¼šè¿”å›i+1ã€‚ã€‚æ±‚çš„æ˜¯ç¬¬ä¸€ä¸ªç¼ºå¤±çš„æ•´æ•°ï¼Œè€Œä¸æ˜¯ç´¢å¼•*/
            }
        }
        return nums.length+1; /**errï¼šå¦‚æœæ‰€æœ‰çš„æ•°éƒ½åœ¨æ­£ç¡®ä½ç½®æ¯”å¦‚ï¼š[1,2,3]ã€‚è¿™ç§æƒ…å†µåº”è¯¥è¿”å›4*/
    }

    private void swap01(int[] nums, int num, int cur) {
        int tmp = nums[num];
        nums[num] = nums[cur];
        nums[cur] = tmp;
    }


}
